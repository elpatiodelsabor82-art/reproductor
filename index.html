<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REPRODUCTOR KIKEFLIXTV</title>
    <style>
        body, html { margin: 0; padding: 0; height: 100%; width: 100%; overflow: hidden; background-color: #000; display: flex; justify-content: center; align-items: center; font-family: sans-serif; }
        video { width: 100%; height: 100vh; object-fit: contain; }
        
        /* BotÃ³n para activar sonido si el navegador lo bloquea */
        #unmute-button {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 204, 0, 0.8);
            color: black;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            display: none;
            z-index: 100;
        }
    </style>
</head>
<body>

    <div id="unmute-button" onclick="toggleSound()">ðŸ”Š ACTIVAR SONIDO</div>
    
    <video id="mainPlayer" playsinline></video>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const videoUrl = urlParams.get('video');
        const player = document.getElementById('mainPlayer');
        const unmuteBtn = document.getElementById('unmute-button');

        if (videoUrl) {
            player.src = videoUrl;
            
            // Intentamos reproducir con sonido directamente
            player.muted = false; 
            player.play().catch(error => {
                console.log("El navegador bloqueÃ³ el sonido inicial. Intentando modo silencio...");
                // Si falla, activamos silencio para que al menos el video corra
                player.muted = true;
                player.play();
                // Mostramos el botÃ³n para que el usuario active el audio
                unmuteBtn.style.display = 'block';
            });
        }

        function toggleSound() {
            player.muted = false;
            unmuteBtn.style.display = 'none';
        }

        // Si el video termina, que vuelva a empezar (opcional)
        player.onended = function() {
            player.play();
        };
    </script>
</body>
</html>
