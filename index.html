<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REPRODUCTOR KIKEMUSIC</title>
    <style>
        body, html { margin: 0; padding: 0; height: 100%; width: 100%; overflow: hidden; background-color: #000; display: flex; justify-content: center; align-items: center; }
        iframe { width: 100%; height: 100%; border: none; }
        #mensaje-ia { 
            color: white; 
            text-align: center; 
            font-family: 'Segoe UI', Arial, sans-serif; 
            display: none; 
            padding: 20px;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 2s linear infinite;
            margin: 0 auto 20px;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>

    <div id="player-container" style="width: 100%; height: 100vh;">
        <iframe id="videoFrame" scrolling="no" allowfullscreen="true" allow="autoplay; fullscreen"></iframe>
    </div>

    <div id="mensaje-ia">
        <div class="loader"></div>
        <h1 style="font-size: 24px; color: #ffcc00;">CAPÍTULO EN PROCESO</h1>
        <p style="font-size: 18px;">KIKEMUSIC Informa: Este contenido se está cargando.</p>
        <p style="color: #888;">Vuelve en unos minutos.</p>
    </div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const videoUrl = urlParams.get('video');
        const iframe = document.getElementById('videoFrame');
        const pantallaIA = document.getElementById('mensaje-ia');

        if (videoUrl === 'proximamente') {
            // OPCIÓN 1: VOZ AUTOMÁTICA (Sin video)
            iframe.style.display = 'none';
            pantallaIA.style.display = 'block';

            const texto = "Este capítulo no se encuentra disponible todavía. Estamos trabajando en ello para brindarte la mejor calidad. Por favor, vuelve más tarde.";
            const utterance = new SpeechSynthesisUtterance(texto);
            utterance.lang = 'es-ES';
            utterance.rate = 0.9;
            window.speechSynthesis.speak(utterance);

        } else if (videoUrl) {
            // OPCIÓN 2: VIDEO DE LA IA O PELÍCULA REAL
            // Si le pasas el link del video que hiciste en InVideo, cargará aquí.
            iframe.src = videoUrl;
        } else {
            document.getElementById('player-container').innerHTML = '<p style="color: white; font-family: Arial;">ESPERANDO ENLACE DE VIDEO...</p>';
        }
    </script>
</body>
</html>
